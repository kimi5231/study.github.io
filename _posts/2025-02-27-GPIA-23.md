---
title: "[게임 프로그래머 입문 올인원] Protobuf"
date: 2025-02-27
categories:
  - 게임 프로그래머 입문 올인원
tags:
  - 게임 서버 엔진
---



{% capture notice-1 %}
#### Protobuf

* 패킷을 하나의 객체로써 다룰 수 있게 해주는 것
{% endcapture %}

{% capture notice-2 %}
* proto 파일 경로: Common -> protoc-21.12-win64 -> bin
* proto 파일들은 필터에 넣어도 외부 파일 취급
{% endcapture %}

<div class="notice">
  {{ notice-1 | markdownify }}
</div>



#### Libraries 폴더에 Include, Libs 폴더 생성 후, Libs 파일에 Protobuf, ServerCore 폴더 넣기



#### Server 프로젝트 추가 라이브러리 디렉터리 경로 수정



#### Include 폴더에 다운로드한 google 폴더 추가



#### Common 폴더 생성 후, 다운로드한 protoc-21.12-win64 폴더 추가



#### Server 프로젝트에 Protocol 필터 생성 후, 그 안에 Proto 필터를 또 생성하고 Common 폴더 안에 있는 proto 파일 추가

<div class="notice">
  {{ notice-2 | markdownify }}
</div>



#### 배치 파일 실행 후 생성된 파일들을 Server 폴더에 추가 후, Protocol 필터에 추가


#### Server 프로젝트 pch 클래스에 라이브러리 경로와 배치 파일 실행 후 생성된 파일 헤더 추가

#### pch.h
```cpp
#include "Protocol.pb.h"
#include "Enum.pb.h"
#include "Struct.pb.h"

#ifdef _DEBUG
#pragma comment(lib, "ServerCore\\Debug\\ServerCore.lib")
#pragma comment(lib, "Protobuf\\Debug\\libprotobufd.lib")
#else
#pragma comment(lib, "ServerCore\\Release\\ServerCore.lib")
#pragma comment(lib, "Protobuf\\Release\\libprotobuf.lib")
#endif
```



#### 배치 파일 실행 후 생성된 파일 중 cc로 끝나는 파일들 미리 컴파일된 헤더 사용 안함으로 설정



#### 배치 파일이 프로젝트가 빌드될 때마다 실해되도록 Server 프로젝트 빌드 전 이벤트 설정

출처: [인프런: 게임 프로그래머 입문 올인원][source]

[source]: https://www.inflearn.com/course/%EA%B2%8C%EC%9E%84-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8-%EC%9E%85%EB%AC%B8-%EC%98%AC%EC%9D%B8%EC%9B%90-rookiss/dashboard